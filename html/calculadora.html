<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Recursos</title>
    <link rel="stylesheet" href="../css/calcul.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Alata&display=swap" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Alata&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;400;700&display=swap" rel="stylesheet" />
    <script src="https://kit.fontawesome.com/1584cc6a34.js" crossorigin="anonymous"></script>
</head>

<body>
    <script src="../js/teste.js"></script>

    <!-- Se precisar do seu JS externo para o modal, acessibilidade etc, inclui aqui -->
    <script src="../js/navbar.js"></script>
    <meu-navbar></meu-navbar>
    <main>
        <section class="hero-banner">
            <div class="conteudo-banner">
                <img src="../imagens/calcu.png" alt="Imagem Hero" class="hero-image" />
                <a href="#formulario" class="botao">
                    Come√ßar simula√ß√£o agora <i class="bi bi-arrow-down-right"></i>
                </a>
            </div>
        </section>
        <section class="info">
            <h2>Como √© o seu consumo de √°gua?</h2>
            <p>Responda perguntas r√°pidas sobre seus<br />h√°bitos e descubra uma estimativa do seu<br />consumo mensal.
            </p>

            <div class="cards">
                <div class="card-1">
                    <i class="bi bi-patch-question-fill"></i><br />
                    <h3>Por que usar?</h3><br />
                    <p>Simule seu consumo<br /> de √°gua e identifique <br /> onde est√£o os maiores <br /> desperd√≠cios
                        no seu<br /> dia a dia.
                    </p>
                </div>
                <div class="card-1">
                    <i class="bi bi-gear-fill"></i><br />
                    <h3>Como funciona?</h3><br />
                    <p>Responda perguntas<br /> r√°pidas. A calculadora <br /> estima seu consumo <br /> mensal com base
                        nos<br /> h√°bitos.
                    </p>
                </div>
                <div class="card-1">
                    <i class="bi bi-rocket-takeoff-fill"></i><br />
                    <h3>O que voc√™ ganha?</h3><br />
                    <p>Consci√™ncia ambiental, <br /> economia na conta e <br /> a√ß√µes pr√°ticas para um <br /> futuro
                        mais sustent√°vel.
                    </p>
                </div>
            </div>
        </section>
        <section class="chamada-central">
            <h2>Confira agora sua estimativa!</h2>
        </section>

        <hr class="divisor" />

        <section class="explicacao-final">
            <div class="conteudo-explicacao">
                <h2>Calcule com consci√™ncia</h2>
                <p>Veja como atitudes simples afetam seu consumo mensal.</p>
            </div>
        </section>


        <div class="form-group" id="formulario" style="font-family: 'Alata', sans-serif;">

            <!-- Linha 1: Pessoas + Lava lou√ßa com torneira -->
            <div class="linha">
                <div class="campo">
                    <label>Quantas pessoas vivem na sua casa?</label>
                    <div id="pessoas">
                        <button type="button" onclick="setPessoas(event,1)">1</button>
                        <button type="button" onclick="setPessoas(event,2)">2</button>
                        <button type="button" onclick="setPessoas(event,3)">3</button>
                        <button type="button" onclick="setPessoas(event,4)">4</button>
                        <button type="button" onclick="setPessoas(event,5)">5 +</button>
                    </div>
                </div>

                <div class="campo">
                    <label>Lava lou√ßa com torneira aberta?</label><br />
                    <div class="radio-group">
                        <label class="radio-wrapper">
                            <input type="radio" name="lavaLouca" value="sim" onclick="mostrarLouca(true)" />
                            <span class="custom-radio"><i class="bi bi-check"></i></span>
                            <span style="font-family: 'Alata', sans-serif;">Sim</span>
                        </label>
                        <label class="radio-wrapper">
                            <input type="radio" name="lavaLouca" value="nao" onclick="mostrarLouca(false)" />
                            <span class="custom-radio"><i class="bi bi-check"></i></span>
                            <span style="font-family: 'Alata', sans-serif;">N√£o</span>
                        </label>
                    </div>

                    <div id="tempoLoucaContainer" class="hidden">
                        <label>Tempo m√©dio lavando lou√ßa (min)</label>
                        <input type="range" id="tempoLouca" min="1" max="20" value="10"
                            oninput="this.nextElementSibling.innerText = this.value + ' min'" />
                        <span>10 min</span>
                    </div>
                </div>
            </div>

            <!-- Linha 2: Descargas + Lava o carro -->
            <div class="linha">
                <div class="campo coluna-esquerda">
                    <label>Descargas por dia (m√©dia total)</label>
                    <input type="number" id="descargas" min="0" placeholder="Insira um n√∫mero" />
                </div>

                <div class="campo">
                    <div class="label-select-container">
                        <label>Lava o carro?</label>
                        <div id="metodoCarroContainer" class="hidden">
                            <label style="font-family: 'Alata', sans-serif;">M√©todo:</label>
                            <select id="metodoCarro" style="font-family: 'Alata', sans-serif;">
                                <option value="mangueira">Mangueira</option>
                                <option value="balde">Balde</option>
                            </select>
                        </div>
                    </div>

                    <div class="radio-group" style="margin-top: 0.5rem;">
                        <label class="radio-wrapper">
                            <input type="radio" name="lavaCarro" value="sim" onclick="mostrarCarro(true)" />
                            <span class="custom-radio"><i class="bi bi-check"></i></span>
                            <span style="font-family: 'Alata', sans-serif;">Sim</span>
                        </label>
                        <label class="radio-wrapper">
                            <input type="radio" name="lavaCarro" value="nao" onclick="mostrarCarro(false)" />
                            <span class="custom-radio"><i class="bi bi-check"></i></span>
                            <span style="font-family: 'Alata', sans-serif;">N√£o</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Linha 3: Tempo de banho + Quantas vezes lava lou√ßa -->
            <div class="linha">
                <div class="campo">
                    <label for="tempoBanho">Tempo m√©dio de banho por pessoa (min)</label>
                    <input type="range" id="tempoBanho" min="5" max="25" step="5" value="10"
                        oninput="atualizarValor('tempoBanho', 'valorBanho')" />
                    <div class="range-labels">
                        <span style="font-family: 'Alata', sans-serif;">5</span>
                        <span style="font-family: 'Alata', sans-serif;">10</span>
                        <span style="font-family: 'Alata', sans-serif;">15</span>
                        <span style="font-family: 'Alata', sans-serif;">20</span>
                        <span style="font-family: 'Alata', sans-serif;">25+</span>
                    </div>
                    <span id="valorBanho" style="font-family: 'Alata', sans-serif;">10 min</span>
                </div>

                <div class="campo">
                    <label>Quantas vezes lava lou√ßa por dia?</label>
                    <input type="number" id="vezesLouca" min="0" placeholder="Insira um n√∫mero" />
                </div>
            </div>

            <!-- Linha 4: Bot√£o -->
            <div class="linha">
                <div class="campo" style="flex: 1; text-align: right;">
                    <button onclick="calcular()" style="margin-top: 30px;">CALCULAR</button>
                </div>
            </div>
        </div>

        <div id="relatorioContainer"></div>

        <div id="modalResultado" class="modal hidden">

            <!-- Header azul com √≠cone -->
            <div class="modal-header-custom">
                <img src="../imagens/globo1.png" alt="√çcone do globo" class="modal-icon-img">
            </div>

            <!-- Bot√£o de fechar -->
            <button class="modal-close" onclick="fecharModal()">
                <i class="bi bi-x"></i>
            </button>

            <!-- Conte√∫do principal -->
            <div class="modal-body">
                <h3>Seu resultado de Consumo:</h3>
                <p class="descricao" style="text-align: left;">Veja sua estimativa mensal com base nas suas respostas.
                </p>
                <p class="descricao" style="font-weight: bold;">Voc√™ consome aproximadamente:</p>
                <p class="valor">
                    <i class="bi bi-droplet-half"></i>
                    <strong id="resultadoModal">0 litros por m√™s</strong>
                </p>
                <p id="tipoConsumo">
                    <span style="font-weight: bold;">Tipo de consumo:</span>
                    <span id="nivelConsumo">moderado.</span>
                </p>
                <div class="modal-buttons">
                    <button id="btnGerarPDF" class="btn gerar-pdf">Gerar PDF</button>
                    <button class="btn refazer" onclick="location.reload();">Refazer c√°lculo</button>

                </div>
            </div>
        </div>

        <div id="overlay" class="overlay hidden"></div>



        <div class="resultado hidden" id="resultadoFinal">

            <div style="text-align: center; font-family: 'Poppins';">
                <p class="text-explorar">Quer explorar mais? Veja o que voc√™ pode fazer com esse resultado:</p>

                <button class="btn-analisar">Analisar Resultado</button>
                <button class="btn refazer" onclick="location.reload();">Refazer c√°lculo</button>

            </div>
        </div>


        <hr class="linha-3" />
        <div class="fazer-login">
            <div class="entre-agora">
                <p>
                    Entre agora e transforme o futuro <br />
                    da √°gua com a gente!
                </p>
            </div>
            <button class="login-btn">
                <a href="login.html" class="none">
                    <p>Fazer login</p>
                </a>
            </button>
        </div>
        <div class="rodape" style="font-family: 'Poppins';">
            <hr id="linha-3" />
            <div class="sustentabilidade">
                <div class="texto">
                    <h1>
                        Sustentabilidade que se adapta,<br />
                        tecnologia que evolui.
                    </h1>
                    <p>2025, Aquatech.</p>
                </div>
                <div class="linha-e-links" style="margin-left: 40%;">
                    <div class="linha-vertical"></div>
                    <div class="menu-links">
                        <p class="titulo-menu" style="margin-left: auto;">Conhe√ßa a Plataforma</p>
                        <a href="#">Home</a>
                        <a href="#">Quem somos</a>
                        <a href="#">Recursos</a>
                        <a href="#">Solu√ß√µes</a>
                    </div>
                </div>
            </div>
            <footer class="footer">
                <div class="social-media">
                    <i class="fa-brands fa-instagram"></i>
                    <i class="fa-brands fa-x-twitter"></i>
                    <i class="fa-brands fa-facebook"></i>
                </div>
                <img src="../imagens/logobr.png" alt="logo_aquatech" class="logo" />
                <p class="copyright">¬© 2025 Aquatech.</p>
            </footer>
        </div>


        <script>
            let pessoas = 1;

            function setPessoas(event, qtd) {
                pessoas = qtd;
                const botoes = document.querySelectorAll('#pessoas button');
                botoes.forEach(btn => {
                    btn.classList.remove('selected');
                });
                event.target.classList.add('selected');
            }

            function mostrarLouca(show) {
                document.getElementById('tempoLoucaContainer').classList.toggle('hidden', !show);
            }

            function mostrarCarro(show) {
                document.getElementById('metodoCarroContainer').classList.toggle('hidden', !show);
            }

            function calcular() {
                // VALIDA√á√ïES INICIO
                if (!pessoas || pessoas < 1) {
                    alert("Por favor, selecione o n√∫mero de pessoas.");
                    return;
                }

                const banhoInput = document.getElementById('tempoBanho');
                if (!banhoInput.value || Number(banhoInput.value) < 1) {
                    alert("Por favor, informe o tempo do banho.");
                    return;
                }

                const escovarInput = document.getElementById('tempoEscovar');
                if (escovarInput && (!escovarInput.value || Number(escovarInput.value) < 0)) {
                    alert("Por favor, informe o tempo de escova√ß√£o.");
                    return;
                }

                const descargasInput = document.getElementById('descargas');
                if (!descargasInput.value || Number(descargasInput.value) < 0) {
                    alert("Por favor, informe o n√∫mero de descargas.");
                    return;
                }

                const lavaLoucaChecked = document.querySelector('input[name="lavaLouca"]:checked');
                if (!lavaLoucaChecked) {
                    alert("Por favor, selecione se lava lou√ßa.");
                    return;
                }

                if (lavaLoucaChecked.value === 'sim') {
                    const tempoLoucaInput = document.getElementById('tempoLouca');
                    if (!tempoLoucaInput.value || Number(tempoLoucaInput.value) < 1) {
                        alert("Por favor, informe o tempo lavando lou√ßa.");
                        return;
                    }
                }

                const vezesLoucaInput = document.getElementById('vezesLouca');
                if (!vezesLoucaInput.value || Number(vezesLoucaInput.value) < 0) {
                    alert("Por favor, informe quantas vezes lava lou√ßa.");
                    return;
                }

                const lavaCarroChecked = document.querySelector('input[name="lavaCarro"]:checked');
                if (!lavaCarroChecked) {
                    alert("Por favor, selecione se lava carro.");
                    return;
                }

                if (lavaCarroChecked.value === 'sim') {
                    const metodoCarroSelect = document.getElementById('metodoCarro');
                    if (!metodoCarroSelect.value) {
                        alert("Por favor, selecione o m√©todo de lavar carro.");
                        return;
                    }
                }
                // VALIDA√á√ïES FIM

                // SE CHEGOU AQUI, TODOS OS CAMPOS EST√ÉO V√ÅLIDOS
                const banho = Number(document.getElementById('tempoBanho').value);
                const escovar = escovarInput ? Number(escovarInput.value) : 0;
                const descargas = Number(descargasInput.value);
                const vezesLouca = Number(vezesLoucaInput.value);

                const lavaLouca = lavaLoucaChecked.value === 'sim';
                const tempoLouca = lavaLouca ? Number(document.getElementById('tempoLouca').value) : 0;

                const lavaCarro = lavaCarroChecked.value === 'sim';
                const metodoCarro = lavaCarro ? document.getElementById('metodoCarro').value : '';

                let consumo = 0;
                consumo += pessoas * banho * 12 * 30;
                consumo += escovar * 4 * pessoas * 30;
                consumo += descargas * 12;
                consumo += tempoLouca * vezesLouca * 30;
                if (lavaCarro && metodoCarro === 'mangueira') consumo += 500;
                else if (lavaCarro && metodoCarro === 'balde') consumo += 100;

                // Ajustando os tipos para corresponder ao que quer:
                const tipo = consumo < 5000 ? 'Baixo' : consumo < 10000 ? 'M√©dio' : 'Alto';

                // Exibir resultado no modal
                document.getElementById('resultadoModal').innerText = consumo.toLocaleString() + ' litros por m√™s.';
                document.getElementById('tipoConsumo').innerText = 'Tipo de consumo: ' + tipo;
                document.getElementById('modalResultado').classList.remove('hidden');
                document.getElementById('overlay').classList.remove('hidden');

                // Guardar resultado globalmente
                window._resultadoConsumo = { consumo, tipo };
            }

            function fecharModal() {
                document.getElementById('modalResultado').classList.add('hidden');
                document.getElementById('overlay').classList.add('hidden');

                const r = window._resultadoConsumo;
                if (!r) return;

                // Criar o bloco de dica baseado no tipo de consumo
                let dica = "";

                if (r.tipo === "Baixo") {
                    dica = `
            <div class="card">
                <strong> Mantenha seus h√°bitos</strong>
                <p>Voc√™ j√° est√° no caminho certo, continue consciente!</p>
            </div>
            <div class="card">
                <strong> Compartilhe boas pr√°ticas</strong>
                <p>Incentive familiares e amigos a economizar tamb√©m.</p>
            </div>
            <div class="card">
                <strong> Compartilhe boas pr√°ticas</strong>
                <p>Incentive familiares e amigos a economizar tamb√©m.</p>
            </div>
        `;
                } else if (r.tipo === "M√©dio") {
                    dica = `
            <div class="card">
                <strong> Reduza o tempo do banho</strong>
                <p>Banhos curtos economizam muita √°gua.</p>
            </div>
            <div class="card">
                <strong> Reutilize a √°gua</strong>
                <p>Use a √°gua da m√°quina de lavar para limpar o quintal ou cal√ßada.</p>
            </div>
            <div class="card">
                <strong>Reutilize a √°gua</strong>
                <p>Use a √°gua da m√°quina de lavar para limpar o quintal ou cal√ßada.</p>
            </div>
        `;
                } else if (r.tipo === "Alto") {
                    dica = `
            <div class="card">
                <strong> Verifique vazamentos</strong>
                <p>Torneiras pingando gastam litros por dia.</p>
            </div>
            <div class="card">
                <strong> Feche a torneira</strong>
                <p>Escove os dentes com a torneira sempre fechada.</p>
            </div>
            <div class="card">
                <strong> Use balde</strong>
                <p>Ao lavar o carro ou cal√ßada, evite mangueiras.</p>
            </div>
        `;
                }

                // Exibir o resultado com as dicas no elemento resultadoFinal
                document.getElementById('resultadoFinal').innerHTML = `
        <div class="caixa-resultado">
            <h3>Voc√™ consome aproximadamente:</h3>
            <div class="consumo-mensal">
                <i class="bi bi-droplet"></i> ${r.consumo.toLocaleString()} litros por m√™s
            </div>

            <h4>Dicas personalizadas:</h4>
            <div class="dicas">
                ${dica}
            </div>

            <p class="tipo-consumo">
                <strong>Tipo de consumo:</strong> ${r.tipo.toLowerCase()}
            </p>
        </div>
                    <div style="text-align: center; font-family: 'Poppins';">
                    <p class="text-explorar">Quer explorar mais? Veja o que voc√™ pode fazer com esse resultado:</p>

                    <button class="btn relatorio" onclick="location.hash='relatorioContainer';">Ver Relat√≥rio</button>

                    <button class="btn refazer" onclick="location.reload();">Refazer c√°lculo</button>
    `;

                document.getElementById('resultadoFinal').classList.remove('hidden');
            }


            window.addEventListener('DOMContentLoaded', () => {
                // Inicializa o bot√£o de pessoas e o slider de banho
                const btnInicial = document.querySelector('#pessoas button');
                if (btnInicial) {
                    btnInicial.classList.add('selected');
                }

                const banhoSlider = document.getElementById('tempoBanho');
                const valorBanho = document.getElementById('valorBanho');

                function atualizarValorBanho() {
                    const valor = Number(banhoSlider.value);
                    valorBanho.textContent = valor >= 25 ? '25+' : valor;
                }

                banhoSlider.addEventListener('input', atualizarValorBanho);
                atualizarValorBanho(); // valor inicial

                // Fun√ß√£o para gerar o HTML do relat√≥rio
                function gerarRelatorioHTML(r) {
                    let dica = "";
                    if (r.tipo === "Baixo") {
                        dica = `
            <ul>
                <li><strong>‚úÖ Mantenha seus h√°bitos:</strong> Voc√™ j√° est√° no caminho certo, continue consciente!</li>
                <li><strong>‚úÖ Compartilhe boas pr√°ticas:</strong> Incentive familiares e amigos a economizar tamb√©m.</li>
            </ul>`;
                    } else if (r.tipo === "M√©dio") {
                        dica = `
            <ul>
                <li><strong>üöø Reduza o tempo do banho:</strong> Banhos curtos economizam muita √°gua.</li>
                <li><strong>‚ôªÔ∏è Reutilize a √°gua:</strong> Use a √°gua da m√°quina de lavar para limpar o quintal ou cal√ßada.</li>
            </ul>`;
                    } else if (r.tipo === "Alto") {
                        dica = `
            <ul>
                <li><strong>üîß Verifique vazamentos:</strong> Torneiras pingando gastam litros por dia.</li>
                <li><strong>ü™• Feche a torneira:</strong> Escove os dentes com a torneira fechada sempre.</li>
                <li><strong>ü™£ Use balde:</strong> Ao lavar o carro ou cal√ßada, evite mangueiras.</li>
            </ul>`;
                    }

                    const html = `
            <div id="relatorio" style="font-family: Arial, sans-serif; padding: 40px; max-width: 800px; margin: auto;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <img src="../imagens/logobl.png" alt="Logo Aquatech" style="height: 40px;">
                    <div style="text-align: right;">
                        <strong>Data do Relat√≥rio:</strong><br>
                        <span>${r.data}</span>
                    </div>
                </div>

                <h2 style="margin-top: 40px;">RELAT√ìRIO<br><span style="font-weight: bold;">DE CONSUMO DE √ÅGUA</span></h2>

                <h3>RESUMO GERAL:</h3>
                <table style="width: 100%; border-collapse: collapse; margin-bottom: 30px;">
                    <thead>
                        <tr>
                            <th style="border: 1px solid #000; padding: 8px; text-align: left;">INDICADOR</th>
                            <th style="border: 1px solid #000; padding: 8px; text-align: left;">RESULTADO</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="border: 1px solid #000; padding: 8px;">Consumo mensal estimado</td>
                            <td style="border: 1px solid #000; padding: 8px;">${r.consumo}</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #000; padding: 8px;">Classifica√ß√£o</td>
                            <td style="border: 1px solid #000; padding: 8px;">${r.tipo}</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #000; padding: 8px;">Pessoas na resid√™ncia</td>
                            <td style="border: 1px solid #000; padding: 8px;">${r.pessoas} pessoas</td>
                        </tr>
                    </tbody>
                </table>

                <h3>OBSERVA√á√ïES:</h3>
                <p>Comportamento analisado com base nos h√°bitos informados.</p>

                <h3>DESTAQUES DO CONSUMO:</h3>
                <ul style="margin-bottom: 30px;">
                    <li>Banhos prolongados: m√©dia de ${r.banho} minutos.</li>
                    <li>Descargas: ${r.descargas} vezes por dia.</li>
                    <li>Lavagem de lou√ßa: ${r.louca} minutos com torneira aberta.</li>
                    <li>${r.carro}</li>
                </ul>

                <h3>DICAS PERSONALIZADAS:</h3>
                ${dica}

                <p style="text-align: right; margin-top: 50px;"><strong>2025, Aquatech.</strong></p>
            </div>`;

                    document.getElementById('relatorioContainer').innerHTML = html;
                }

                // Fun√ß√£o que monta o relat√≥rio a partir dos inputs
                function montarRelatorio() {
                    const escovarInput = document.getElementById('tempoEscovar');
                    const descargasInput = document.getElementById('descargas');
                    const lavaLoucaChecked = document.querySelector('input[name="lavaLouca"]:checked');
                    const tempoLoucaInput = document.getElementById('tempoLouca');
                    const vezesLoucaInput = document.getElementById('vezesLouca');
                    const lavaCarroChecked = document.querySelector('input[name="lavaCarro"]:checked');
                    const metodoCarroSelect = document.getElementById('metodoCarro');

                    const banho = Number(document.getElementById('tempoBanho').value);
                    const escovar = escovarInput ? Number(escovarInput.value) : 0;
                    const descargas = Number(descargasInput.value);
                    const vezesLouca = Number(vezesLoucaInput.value);

                    const lavaLouca = lavaLoucaChecked?.value === 'sim';
                    const tempoLouca = lavaLouca ? Number(tempoLoucaInput.value) : 0;

                    const lavaCarro = lavaCarroChecked?.value === 'sim';
                    const metodoCarro = lavaCarro ? metodoCarroSelect.value : '';
                    const carroTexto = lavaCarro
                        ? metodoCarro === 'mangueira'
                            ? 'Lava o carro com mangueira.'
                            : metodoCarro === 'balde'
                                ? 'Lava o carro com balde.'
                                : 'Lava o carro.'
                        : 'N√£o lava o carro.';

                    let consumo = 0;
                    consumo += pessoas * banho * 12 * 30;
                    consumo += escovar * 4 * pessoas * 30;
                    consumo += descargas * 12;
                    consumo += tempoLouca * vezesLouca * 30;
                    if (lavaCarro && metodoCarro === 'mangueira') consumo += 500;
                    else if (lavaCarro && metodoCarro === 'balde') consumo += 100;

                    const tipo = consumo < 5000 ? 'Baixo' : consumo < 10000 ? 'M√©dio' : 'Alto';

                    return {
                        data: new Date().toLocaleDateString(),
                        consumo: `${consumo.toLocaleString()} Litros`,
                        tipo,
                        pessoas,
                        banho,
                        descargas,
                        louca: tempoLouca,
                        carro: carroTexto
                    };
                }

                // Gera√ß√£o do PDF
                document.getElementById('btnGerarPDF').addEventListener('click', () => {
                    const relatorio = montarRelatorio();

                    // Gera o HTML do relat√≥rio
                    gerarRelatorioHTML(relatorio);

                    // Verifica se o relat√≥rio est√° vis√≠vel
                    setTimeout(() => {
                        const element = document.getElementById('relatorio');

                        // Checa se o elemento do relat√≥rio est√° no DOM
                        if (!element) {
                            console.log('Relat√≥rio n√£o encontrado!');
                            alert('Elemento do relat√≥rio n√£o encontrado!');
                            return;  // Impede a gera√ß√£o do PDF
                        }

                        // Verifica a visibilidade do relat√≥rio
                        const visibility = window.getComputedStyle(element).visibility;
                        const display = window.getComputedStyle(element).display;

                        if (visibility === 'hidden' || display === 'none') {
                            console.log('Relat√≥rio n√£o est√° vis√≠vel!');
                            alert('O relat√≥rio n√£o est√° vis√≠vel, verifique os estilos aplicados!');
                            return;  // Impede a gera√ß√£o do PDF
                        }

                        // Log para confirmar que tudo est√° correto
                        console.log('Relat√≥rio renderizado corretamente!');
                        console.log('Visibilidade:', visibility);
                        console.log('Display:', display);

                        // Gerar o PDF a partir do elemento renderizado
                        const options = {
                            margin: 0.5,
                            filename: 'relatorio_consumo_agua.pdf',
                            image: { type: 'jpeg', quality: 0.98 },
                            html2canvas: { scale: 2 },
                            jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
                        };

                        html2pdf().set(options).from(element).toPdf().get('pdf').then((pdf) => {
                            console.log('PDF gerado, mas n√£o baixado!');
                            // Se quiser exibir o PDF na tela, pode fazer assim:
                            // const blob = pdf.output('blob');
                            // const url = URL.createObjectURL(blob);
                            // window.open(url);
                        });

                    }, 1000); // Atraso de 1000ms para garantir que o relat√≥rio foi renderizado
                });
            });


        </script>



    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>


    <!-- Se precisar do seu JS externo para o modal, acessibilidade etc, inclui aqui -->
    <script src="../js/navbar.js"></script>
</body>

</html>